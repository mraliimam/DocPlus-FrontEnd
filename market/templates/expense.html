{% extends 'base.html' %}

{% block title %}
  Expense
{% endblock %}

{% block content %}
<body>
  <div class = 'container p-5'>
      <form method = 'post' class = 'form-register p-5' style = 'color: black; background:white;'>
          
        <h3>Add EXPENSE</h3>
          {{ form.hidden_tag() }}
        

          <br>
        
          <div class = row>
            <div class = 'col-md-4'>
          {{ form.id.label() }}
          {{ form.id(class = 'form-control', placeholder = 'Expense ID' )}}
          
        </div>
        <div class = 'col-md-4'>
          {{ form.name.label() }}
          {{ form.name(class = 'form-control', placeholder = 'Vendor Name' ) }}
          </div>

          <div class = 'col-md-4'>

          {{ form.e_type.label() }}
          {{ form.e_type(class = 'form-control', id = 'category') }}
          </div>

          <div class = 'col-md-3' , id = 'subcategory', style="display: none;">
            {{ form.category.label() }}
            {{ form.category(class = 'form-control') }}
            </div>
        </div>
        
        <br>
        
        <div class = 'row'>
          
          <div class="col-md-6">
          {{ form.date.label() }}
          {{ form.date(class = 'form-control') }}
          </div>
          <div class="col-md-6">
          {{ form.price.label() }}
          {{ form.price(class = 'form-control', placeholder = 'Price') }}
          </div>

        
        </div>        
        <br>
    
          <button type="button" class="btn1 btn btn-lg btn-success" data-toggle="modal" data-target="#exampleModal">
            Submit
          </button>

          <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="color: Black;">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Adding Expense..</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Do you want to save changes?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
        {{ form.submit(class = 'btn btn-primary') }}
      </div>
    </div>
  </div>
</div>
          
      </form>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
      $(document).ready(function() {
          $('#category').change(function() {
            console.log('In the function');
              if ($(this).val() == 'Laboratory') {                
                  $('#subcategory').show();
                  console.log('If Condition');
              } else {
                  $('#subcategory').hide();
                  console.log('Else side');
              }
          });
      });
  </script>
</body>


{% endblock %}

